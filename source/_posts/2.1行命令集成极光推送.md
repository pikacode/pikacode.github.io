---
title: 1行命令集成极光推送
date: 2016.05.31 09:44:42
categories:
	- JPush
	- Push Notification
    - Plugin
tags:
	- JPush
	- Push Notification
    - Plugin
---

本文写给那些想极速集成推送功能的开发者，不用阅读任何文档，不用写一行代码，1分钟集成，立即使用！

- 不论你的项目是用 Objective-C 开发的 native app
- 还是基于 Cordova(phonegap、ionic、We5x 等框架)的 Hybrid app
- 或是 Cocos2d-x 的 iOS 项目，统统只需打开 **终端** 输入一行命令：

  ```shell
  appkey=yourAppkey platform=yourPlatform npm install one-line-jpush-ios
  ```

  *下载推送 SDK、添加代码、添加类库全部自动进行，完成后立刻推送！*
  参数说明：
  - appkey：上传证书在[【极光推送控制台】](https://www.jpush.cn/common/apps)获取 appkey [【获取 appkey 方法】](http://docs.jpush.io/guideline/ios_guide/#sdk)
  - platform：部署平台，可选值：native、cordova、cocos2dx
    例：
    ```shell
    //native
    appkey=yourAppkey platform=native npm install one-line-jpush-ios
    //cordova
    appkey=yourAppkey platform=cordova npm install one-line-jpush-ios
    //cocos2d-x
    appkey=yourAppkey platform=cocos2dx npm install one-line-jpush-ios
    ```

在相应目录下执行完对应的一条命令后，并且 apple 证书配置正确的情况下 [(iOS 证书设置指南)](http://docs.jpush.io/client/ios_tutorials/#ios_1)，就可以立即推送了！


**针对不同项目，该命令会做不同的事情，需要在对应目录下执行：**

### Native App(Object-C) 项目
---
#### 执行命令
从终端进入到项目**根目录的与项目同名文件夹**下(如：/HelloWorld/HelloWorld/)
![](http://upload-images.jianshu.io/upload_images/1944178-001a94f69faa037b.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240)


- 在该目录下，终端执行命令

  ```sh
  appkey=yourAppkey platform=native npm install one-line-jpush-ios
  ```

  其中 `yourAppkey` 替换成在 [极光控制台](https://www.jpush.cn/common/apps) 创建 app 时得到的 appkey

#### 完成！！
安装成功命令行提示以下内容
![](http://upload-images.jianshu.io/upload_images/1944178-affb0c1d9819845f.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240)

#### 命令说明
platform=native 时帮大家做以下事情：
- 自动从极光官网下载并安装 [极光推送最新版本 SDK](http://docs.jpush.io/updates/#jpush-ios-sdk-v217) 到根目录所在项目中
- 自动写入**启动 SDK** 及**接收推送**的必要代码 (在 AppDelegate.m 中)
- 自动添加必须的类库到 iOS 项目中


### Cordova 项目
----------------------------------------
#### 执行命令
- 从终端进入到 Cordova 项目的**根**目录下：
  ![](http://upload-images.jianshu.io/upload_images/1944178-4f599d1aa473fc59.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240)

- 在该目录下，终端执行命令即可：

  ```sh
  appkey=yourAppkey platform=cordova npm install one-line-jpush-ios
  ```

  其中 `yourAppkey` 替换成准备工作中在[极光控制台](https://www.jpush.cn/common/apps)创建 app 时得到的 appkey

#### 完成！！
安装成功命令行提示以下内容
![](http://upload-images.jianshu.io/upload_images/1944178-f286a46ff730eb84.jpg?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240)


#### 命令说明
platform=cordova 时帮大家做以下事情：
- 自动创建 iOS 项目
- 自动从 GitHub 上下载最新的 极光推送 [JPush Phonegap Plugin](https://github.com/jpush/jpush-phonegap-plugin) 插件
- 自动安装该插件到当前项目并添加必要配置
- 自动添加必须的类库到 iOS 项目中

### Cocos2d-x 项目
----------------------------------------

#### 执行命令
- 从终端进入到 Cocos2d-x 项目的 `proj.ios_mac` 目录下，跟 `ios`、`mac` 文件夹同一级：

![](http://upload-images.jianshu.io/upload_images/1944178-a8915b029356dfa3.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240)

- 在该目录下，终端执行命令即可：

  ```sh
  appkey=yourAppkey platform=cocos2dx npm install one-line-jpush-ios
  ```
  其中 `yourAppkey` 替换成在[极光控制台](https://www.jpush.cn/common/apps)创建 app 时得到的 appkey

#### 完成！！
安装成功命令行提示以下内容
![](http://upload-images.jianshu.io/upload_images/1944178-dcf93d9460f8fb1d.jpg?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240)



#### 命令说明
platform=cocos2dx 时帮大家做以下事情：
- 自动从 GitHub 上下载最新的 Cocos2d-x 插件 [JPush Cocos2d-x Plugin](https://github.com/jpush/jpush-cocos2d-x-plugin)
- 自动安装该插件到当前项目并添加必要配置
- 自动写入**启动 SDK**及**接收推送**的必要代码 (在 AppController.mm 中)
- 自动添加必须的类库到 iOS 项目中

### 终端使用方法 & 控制台推送方法
---
[终端使用方法 & 控制台推送方法 点我](https://github.com/Yasashi/one-line-jpush)
